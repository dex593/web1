<!DOCTYPE html>
<html lang="vi">
  <%- include("partials/head", { title }) %>
  <body>
    <div class="site">
      <%- include("partials/header") %>
      <main>
        <section class="section container">
          <div class="panel account-panel" data-account-page>
            <div class="account-head">
              <div>
                <h1>Tài khoản</h1>
                <p class="note">Quản lý hồ sơ hiển thị khi bạn bình luận.</p>
              </div>
              <div class="account-head__actions" data-auth-widget>
                <button class="button button--ghost" type="button" data-auth-login>
                  Đăng nhập Google
                </button>
                <div hidden data-auth-profile>
                  <button class="button button--ghost" type="button" data-auth-logout>
                    Đăng xuất
                  </button>
                </div>
              </div>
            </div>

            <div class="account-locked" hidden data-account-locked>
              <p class="note">Bạn cần đăng nhập để chỉnh sửa thông tin tài khoản.</p>
              <button class="button" type="button" data-auth-login>Đăng nhập Google</button>
            </div>

            <form class="account-form" hidden data-account-form>
              <label class="account-field">
                <span>Tên hiển thị</span>
                <input
                  type="text"
                  maxlength="30"
                  autocomplete="name"
                  placeholder="Tên của bạn"
                  data-account-name
                />
              </label>

              <div class="account-info">
                <p class="account-sub">Thông tin tài khoản</p>
                <div class="account-info__grid">
                  <p class="account-info__item">
                    <span>Username</span>
                    <strong data-account-username>—</strong>
                  </p>
                  <p class="account-info__item">
                    <span>Email</span>
                    <strong data-account-email>—</strong>
                  </p>
                  <p class="account-info__item">
                    <span>Ngày tham gia</span>
                    <strong data-account-joined>—</strong>
                  </p>
                </div>
              </div>

              <div class="avatar-upload">
                <button
                  class="avatar-upload__preview"
                  data-avatar-preview-wrap
                  type="button"
                  aria-label="Chọn avatar"
                >
                  <img
                    class="avatar-upload__img"
                    alt=""
                    hidden
                    loading="lazy"
                    referrerpolicy="no-referrer"
                    data-account-avatar-preview
                  />
                  <svg
                    class="avatar-upload__fallback"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.6"
                    aria-hidden="true"
                  >
                    <circle cx="12" cy="8" r="4" />
                    <path d="M4 20c1.6-3.5 5-5 8-5s6.4 1.5 8 5" />
                  </svg>
                  <div class="upload-overlay" hidden data-avatar-overlay>
                    <div class="upload-overlay__bar">
                      <div class="upload-overlay__fill" style="width: 0%" data-avatar-overlay-bar></div>
                    </div>
                    <div class="upload-overlay__text" data-avatar-overlay-text></div>
                  </div>
                </button>
                <div class="avatar-upload__controls">
                  <p class="avatar-upload__name" data-account-preview-name></p>
                  <p class="note">Ảnh vuông JPG/PNG/WebP, tối đa 2MB.</p>
                  <div class="upload-picker">
                    <input
                      id="avatar-file"
                      class="upload-input"
                      type="file"
                      accept="image/png,image/jpeg,image/webp"
                      data-account-avatar-file
                    />
                    <label class="button button--ghost" for="avatar-file">Chọn avatar</label>
                    <button class="button button--ghost" type="button" data-account-reset>
                      Đặt lại avatar Google
                    </button>
                  </div>
                  <p class="note is-error" hidden data-avatar-error></p>
                </div>
              </div>

              <label class="account-field">
                <span>Facebook</span>
                <input
                  type="text"
                  maxlength="180"
                  placeholder="https://facebook.com/ten-cua-ban"
                  data-account-facebook
                />
              </label>

              <label class="account-field">
                <span>Discord</span>
                <input
                  type="text"
                  maxlength="80"
                  placeholder="https://discord.gg/invite-code"
                  data-account-discord
                />
              </label>

              <label class="account-field">
                <span>Thông tin bản thân</span>
                <textarea
                  rows="4"
                  maxlength="300"
                  placeholder="Giới thiệu ngắn về bạn..."
                  data-account-bio
                ></textarea>
                <div class="account-field__meta">
                  <p class="note">Tối đa 300 ký tự.</p>
                  <p class="comment-char-counter account-bio-counter" data-account-bio-counter>0/300</p>
                </div>
              </label>

              <div class="account-actions">
                <button class="button" type="submit" data-account-save>Lưu thay đổi</button>
              </div>

              <p class="note" hidden data-account-status></p>
            </form>
          </div>
        </section>
      </main>
      <%- include("partials/footer") %>
    </div>
    <script src="<%= cacheBust("/account.js", assetVersion) %>" defer></script>
  </body>
</html>
